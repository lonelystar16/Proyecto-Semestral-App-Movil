<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Mantenedor Usuarios | TeLlevoDuoc</ion-title>
    <ion-button expand="block" fill="clear" shape="round">
      <a [routerLink]="['/inicio']"></a>
    </ion-button>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Mantenedor Usuarios</ion-title>
    </ion-toolbar>
  </ion-header>

  <!-- * CRUD de Usuarios (GET, POST, PUT, DELETE), sin uso de Funciones (click), sin ngModel -->
  
  <div id="container">
    <ion-card>
  <ion-card-header>
    <ion-card-title>Mantenedor Usuarios</ion-card-title>
  </ion-card-header>
  <ion-card-content>
    <ion-list>
      <ion-item>
        <!-- Botón para mostrar el formulario -->
        <ion-button fill="clear" slot="end" (click)="toggleFormulario()">
          Agregar nuevo Usuario
        </ion-button>
      </ion-item>

      <!-- Formulario para agregar un nuevo alumno, visible solo cuando mostrarFormulario es true -->
      <div *ngIf="mostrarFormulario">
        <ion-item>
          <ion-label position="floating">Nombre Usuario</ion-label>
          <ion-input [(ngModel)]="nuevoAlumno.nombre_usuario"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label position="floating">Correo Usuario</ion-label>
          <ion-input [(ngModel)]="nuevoAlumno.email" type="email"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label position="floating">Contraseña Usuario</ion-label>
          <ion-input [(ngModel)]="nuevoAlumno.password" type="password"></ion-input>
        </ion-item>
        <ion-button (click)="crearAlumno()" expand="block">Agregar Alumno</ion-button>
      </div>

      <ion-grid fixed>
        <ion-row>
          <ion-col><strong>Nombre Usuario</strong></ion-col>
          <ion-col><strong>Correo Usuario</strong></ion-col>
          <ion-col><strong>Contraseña Usuario</strong></ion-col>
          <ion-col><strong>Modificar</strong></ion-col>
          <ion-col><strong>Eliminar</strong></ion-col>
        </ion-row>
        
        <!-- Lista de alumnos -->
        <ion-row *ngFor="let alumno of alumnos">
          <ion-col>{{alumno.nombre_usuario}}</ion-col>
          <ion-col> {{alumno.email}} </ion-col>
          <ion-col> {{alumno.password}} </ion-col>
          <ion-col (click)="editarAlumno(alumno.id)">
            <ion-button fill="outline" size="small">
              Modificar
            </ion-button>
          </ion-col>
          <ion-col (click)="eliminarAlumno(alumno.id)">
            <ion-button fill="outline" size="small">
              Eliminar
            </ion-button>
          </ion-col>
        </ion-row>

        <!-- Spinner mientras se cargan los alumnos -->
        <ion-spinner *ngIf="alumnos.length === 0"></ion-spinner>
      </ion-grid>
    </ion-list>
  </ion-card-content>
</ion-card>

  </div>

















</ion-content>
